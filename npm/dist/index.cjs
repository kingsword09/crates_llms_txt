var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},s=(n,r,a)=>(a=n==null?{}:e(i(n)),o(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));const c=s(require(`crates-llms-txt-napi`)),l=e=>{let t=new Map;for(let n of e)t.set(n.link,{...n});return Array.from(t.values()).map(e=>({...e,title:u(e.link)}))},u=e=>{let t=e.split(`/`).filter(e=>e!==``),n=t.pop()||e,r=n.lastIndexOf(`.`);return r>0?n.substring(0,r):n},d=e=>{let t=new Map;for(let n of e){let e=t.get(n.link);t.set(n.link,e?`${e}\n\n${n.content}`:n.content)}return Array.from(t.entries()).map(([e,t])=>({link:e,content:t}))},f=e=>{if(!e)return null;let t=JSON.parse(e.sessions),n=l(t),r=JSON.parse(e.fullSessions),i=d(r);try{return{libName:e.libName,version:e.version,sessions:n,fullSessions:i}}catch{return null}},p=async(e,t)=>{let n=await(0,c.getLlmsConfigOnline)(e,t);return f(n)},m=(e,t)=>{let n=(0,c.getLlmsConfigByRustdocAllFeatures)(e,t);return console.log(`QAQ`,n),f(n)},h=(e,t,n,r)=>{let i=(0,c.getLlmsConfigByRustdocFeatures)(e,t,n,r);return f(i)};exports.getLlmsConfigByRustdocAllFeatures=m,exports.getLlmsConfigByRustdocFeatures=h,exports.getLlmsConfigOnline=p;